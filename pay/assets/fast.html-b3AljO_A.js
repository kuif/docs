import{_ as s,c as n,o as a,a as e}from"./app-O-FW8RaH.js";const p={},t=e(`<h1 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手"><span>快速上手</span></a></h1><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">composer</span> require fengkui/pay</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="完善支付配置" tabindex="-1"><a class="header-anchor" href="#完善支付配置"><span>完善支付配置</span></a></h2><h3 id="微信支付" tabindex="-1"><a class="header-anchor" href="#微信支付"><span>微信支付</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre class="language-php"><code><span class="line"><span class="token comment"># 微信支付配置</span></span>
<span class="line"><span class="token variable">$wechatConfig</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;xcxid&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 小程序 appid</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;appid&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 微信支付 appid</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;mchid&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 微信支付 mch_id 商户收款账号</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;key&#39;</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 微信支付 apiV3key（尽量包含大小写字母，否则验签不通过，服务商模式使用服务商key）</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;appsecret&#39;</span>     <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 公众帐号 secert (公众号支付获取 code 和 openid 使用)</span></span>
<span class="line"></span>
<span class="line">    <span class="token string single-quoted-string">&#39;sp_appid&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 服务商应用 ID</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;sp_mchid&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 服务商户号</span></span>
<span class="line"></span>
<span class="line">    <span class="token string single-quoted-string">&#39;notify_url&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 接收支付状态的连接  改成自己的回调地址</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;redirect_url&#39;</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 公众号支付，调起支付页面</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 服务商模式下，使用服务商证书</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;serial_no&#39;</span>     <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 证书序列号（可不传，默认根据证书直接获取）</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;cert_client&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;./cert/apiclient_cert.pem&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 证书（退款，红包时使用）</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;cert_key&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;./cert/apiclient_key.pem&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 商户私钥（Api安全中下载）</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;public_key&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;./cert/public_key.pem&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 平台公钥（调动证书列表，自动生成，注意目录权限）</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="支付宝支付" tabindex="-1"><a class="header-anchor" href="#支付宝支付"><span>支付宝支付</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre class="language-php"><code><span class="line"><span class="token comment"># 支付宝支付配置</span></span>
<span class="line"><span class="token variable">$alipayConfig</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;app_id&#39;</span>        <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 开发者的应用ID</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;public_key&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 支付宝公钥，一行字符串</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;private_key&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 开发者私钥去头去尾去回车，一行字符串</span></span>
<span class="line"></span>
<span class="line">    <span class="token string single-quoted-string">&#39;notify_url&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 异步接收支付状态</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;return_url&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 同步接收支付状态</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;sign_type&#39;</span>     <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;RSA2&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 生成签名字符串所使用的签名算法类型，目前支持RSA2和RSA，默认使用RSA2</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;is_sandbox&#39;</span>    <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否使用沙箱调试，true使用沙箱，false不使用，默认false不使用</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="银联支付" tabindex="-1"><a class="header-anchor" href="#银联支付"><span>银联支付</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre class="language-php"><code><span class="line"><span class="token comment"># 银联支付配置</span></span>
<span class="line"><span class="token variable">$unionConfig</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;mchid&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 商户号</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;sign_pwd&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//商户私钥证书密码</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;sign_path&#39;</span>     <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;./cert/acp_test_sign.pfx&#39;</span><span class="token punctuation">,</span> <span class="token comment">//商户私钥证书（签名使用）5.1.0</span></span>
<span class="line">    <span class="token comment">// &#39;sign_path&#39;     =&gt; &#39;./cert/700000000000001_acp.pfx&#39;, //签名证书路径5.0.0</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;verify_path&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;./cert/verify_sign_acp.cer&#39;</span><span class="token punctuation">,</span> <span class="token comment">//银联公钥证书（商户验签使用） </span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;acp_root&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;./cert/acp_test_root.cer&#39;</span><span class="token punctuation">,</span> <span class="token comment">//根证书 </span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;acp_middle&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;./cert/acp_test_middle.cer&#39;</span><span class="token punctuation">,</span> <span class="token comment">//中级证书 </span></span>
<span class="line"></span>
<span class="line">    <span class="token string single-quoted-string">&#39;notify_url&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 异步接收支付状态</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;return_url&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 同步接收支付状态</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;is_sandbox&#39;</span>    <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否使用沙箱调试，true使用沙箱，false不使用，默认false不使用</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="百度支付" tabindex="-1"><a class="header-anchor" href="#百度支付"><span>百度支付</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre class="language-php"><code><span class="line"><span class="token comment"># 百度支付配置</span></span>
<span class="line"><span class="token variable">$baiduConfig</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;deal_id&#39;</span>       <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 百度收银台的财务结算凭证</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;app_key&#39;</span>       <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 表示应用身份的唯一ID</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;private_key&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 私钥原始字符串</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;public_key&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 平台公钥</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;notify_url&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 支付回调地址</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="字节跳动支付" tabindex="-1"><a class="header-anchor" href="#字节跳动支付"><span>字节跳动支付</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre class="language-php"><code><span class="line"><span class="token comment"># 字节跳动支付配置</span></span>
<span class="line"><span class="token variable">$bytedanceConfig</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;app_id&#39;</span>        <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// App ID</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;salt&#39;</span>          <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 支付密钥值</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;token&#39;</span>         <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 回调验签的Token</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;notify_url&#39;</span>    <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 支付回调地址</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;thirdparty_id&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 第三方平台服务商 id，非服务商模式留空</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用说明" tabindex="-1"><a class="header-anchor" href="#使用说明"><span>使用说明</span></a></h2><h3 id="单独使用" tabindex="-1"><a class="header-anchor" href="#单独使用"><span>单独使用</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre class="language-php"><code><span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Wechat</span><span class="token punctuation">(</span><span class="token variable">$wechatConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 微信</span></span>
<span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Alipay</span><span class="token punctuation">(</span><span class="token variable">$alipayConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 支付宝</span></span>
<span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Unionpay</span><span class="token punctuation">(</span><span class="token variable">$unionConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 银联</span></span>
<span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Baidu</span><span class="token punctuation">(</span><span class="token variable">$baiduConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 百度</span></span>
<span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Bytedance</span><span class="token punctuation">(</span><span class="token variable">$bytedanceConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 字节跳动</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="公共使用" tabindex="-1"><a class="header-anchor" href="#公共使用"><span>公共使用</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre class="language-php"><code><span class="line"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * @Author: [FENG] &lt;1161634940@qq.com&gt;</span>
<span class="line"> * @Date:   2021-06-01T14:55:21+08:00</span>
<span class="line"> * @Last Modified by:   [FENG] &lt;1161634940@qq.com&gt;</span>
<span class="line"> * @Last Modified time: 2021-06-15 15:39:01</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;./vendor/autoload.php&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 通用支付</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name-definition class-name">Payment</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 支付类实例化</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 支付类型</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 支付相关配置</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * [_initialize 构造函数(获取支付类型与初始化配置)]</span>
<span class="line">     * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">[</span>type<span class="token punctuation">]</span></span> [description]</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">_initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$type</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;type&#39;</span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string single-quoted-string">&#39;alipay&#39;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * [config 获取配置]</span>
<span class="line">     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span> <span class="token parameter">$type</span> [description]</span>
<span class="line">     * <span class="token keyword">@return</span> <span class="token class-name"><span class="token punctuation">[</span>type<span class="token punctuation">]</span></span>       [description]</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">config</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token operator">=</span><span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$type</span> <span class="token operator">=</span> <span class="token variable">$type</span> <span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$type</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 相关配置</span></span>
<span class="line">        <span class="token variable">$alipayConfig</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;wechat&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;baidu&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;bytedance&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;alipay&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;union&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token variable">$config</span> <span class="token operator">=</span> <span class="token variable">$type</span> <span class="token operator">.</span> <span class="token string double-quoted-string">&quot;Config&quot;</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$config</span> <span class="token operator">=</span> <span class="token variable">$config</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;当前类型配置不存在&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token variable">$type</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$pay</span> <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">::</span><span class="token variable">$type</span><span class="token punctuation">(</span><span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$config</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 支付方法</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">pay</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token variable">$order</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;body&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;subject-测试&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 商品描述</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;order_sn&#39;</span>  <span class="token operator">=&gt;</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 商户订单号</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;total_amount&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token comment">// 订单金额</span></span>
<span class="line">        <span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token keyword static-context">self</span><span class="token operator">::</span><span class="token variable">$pay</span><span class="token operator">-&gt;</span><span class="token function">web</span><span class="token punctuation">(</span><span class="token variable">$order</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 直接跳转链接</span></span>
<span class="line">        <span class="token keyword">echo</span> <span class="token variable">$result</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,19),l=[t];function i(c,o){return a(),n("div",null,l)}const u=s(p,[["render",i],["__file","fast.html.vue"]]),d=JSON.parse('{"path":"/overview/fast.html","title":"快速上手","lang":"zh-CN","frontmatter":{"title":"快速上手"},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"完善支付配置","slug":"完善支付配置","link":"#完善支付配置","children":[{"level":3,"title":"微信支付","slug":"微信支付","link":"#微信支付","children":[]},{"level":3,"title":"支付宝支付","slug":"支付宝支付","link":"#支付宝支付","children":[]},{"level":3,"title":"银联支付","slug":"银联支付","link":"#银联支付","children":[]},{"level":3,"title":"百度支付","slug":"百度支付","link":"#百度支付","children":[]},{"level":3,"title":"字节跳动支付","slug":"字节跳动支付","link":"#字节跳动支付","children":[]}]},{"level":2,"title":"使用说明","slug":"使用说明","link":"#使用说明","children":[{"level":3,"title":"单独使用","slug":"单独使用","link":"#单独使用","children":[]},{"level":3,"title":"公共使用","slug":"公共使用","link":"#公共使用","children":[]}]}],"git":{"updatedTime":1712901231000,"contributors":[{"name":"kuifeng","email":"1161634940@qq.com","commits":2}]},"filePathRelative":"overview/fast.md"}');export{u as comp,d as data};
