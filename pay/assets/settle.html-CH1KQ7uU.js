import{_ as s,c as a,a as t,o as e}from"./app-BydhZpsR.js";const p={};function l(o,n){return e(),a("div",null,n[0]||(n[0]=[t(`<table><thead><tr><th style="text-align:center;">method</th><th style="text-align:center;">说明</th><th style="text-align:center;">参数</th><th style="text-align:center;">返回值</th></tr></thead><tbody><tr><td style="text-align:center;">relationBind</td><td style="text-align:center;">分账关系绑定与解绑</td><td style="text-align:center;">array $order</td><td style="text-align:center;">Collection</td></tr><tr><td style="text-align:center;">relationQuery</td><td style="text-align:center;">查询分账关系</td><td style="text-align:center;">array $order</td><td style="text-align:center;">Collection</td></tr><tr><td style="text-align:center;">settle</td><td style="text-align:center;">统一收单交易结算接口</td><td style="text-align:center;">array $order</td><td style="text-align:center;">Collection</td></tr><tr><td style="text-align:center;">settleQuery</td><td style="text-align:center;">交易分账查询接口</td><td style="text-align:center;">array $order</td><td style="text-align:center;">Collection</td></tr><tr><td style="text-align:center;">onsettleQuery</td><td style="text-align:center;">分账比例查询 &amp;&amp; 分账剩余金额查询</td><td style="text-align:center;">array $order</td><td style="text-align:center;">Collection</td></tr></tbody></table><h2 id="统一收单交易结算接口" tabindex="-1"><a class="header-anchor" href="#统一收单交易结算接口"><span>统一收单交易结算接口</span></a></h2><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Alipay</span><span class="token punctuation">(</span><span class="token variable">$alipayConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token variable">$settle</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;order_sn&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//结算请求流水号，由商家自定义</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;trade_no&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//支付宝号</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;list&#39;</span>  <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token comment">// 分账明细信息</span></span>
<span class="line">        <span class="token punctuation">[</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;trans_in&#39;</span><span class="token operator">=&gt;</span><span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 收入方账户。</span></span>
<span class="line">            <span class="token comment">// 如果收入方账户类型为userId，本参数为收入方的支付宝账号对应的支付宝唯一用户号，以2088开头的纯16位数字；</span></span>
<span class="line">            <span class="token comment">// 如果收入方类型为cardAliasNo，本参数为收入方在支付宝绑定的卡编号；</span></span>
<span class="line">            <span class="token comment">// 如果收入方类型为loginName，本参数为收入方的支付宝登录号；</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;amount&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 分账的金额，单位为元</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;desc&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;测试分账&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 分账描述（选填）</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;trans_in_type&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;userId&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 收入方账户类型。</span></span>
<span class="line">            <span class="token comment">// 支付宝账号对应的支付宝唯一用户号: userId</span></span>
<span class="line">            <span class="token comment">// 支付宝登录号: loginName</span></span>
<span class="line">            <span class="token comment">// 卡编号: cardAliasNo</span></span>
<span class="line">        <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$pay</span><span class="token operator">-&gt;</span><span class="token function">settle</span><span class="token punctuation">(</span><span class="token variable">$settle</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置参数" tabindex="-1"><a class="header-anchor" href="#配置参数"><span>配置参数</span></a></h3><p><strong>所有配置中，公共请求参数与客观请求参数，扩展包已自动处理</strong>，<br> 除客观必传参数外，如需传入其他客观参数，传直接传入<code>$settle</code>中，或根据自己需求修改扩展</p><p>所有配置参数和官方无异，参数请查看「<a href="https://opendocs.alipay.com/open/c3b24498_alipay.trade.order.settle?scene=common&amp;pathHash=8e6acab4#%E4%B8%9A%E5%8A%A1%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务请求参数</a>」与 「<a href="https://opendocs.alipay.com/open/c3b24498_alipay.trade.order.settle?scene=common&amp;pathHash=8e6acab4#%E4%B8%9A%E5%8A%A1%E5%93%8D%E5%BA%94%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务响应参数</a>」一栏。</p><h3 id="返回示例" tabindex="-1"><a class="header-anchor" href="#返回示例"><span>返回示例</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;alipay_trade_order_settle_response&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;10000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;msg&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;Success&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;trade_no&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;2015070921001004130000127422&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;settle_no&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;20210718002530070036530006474222&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;sign&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;ERITJKEIJKJHKKKKKKKHJEREEEEEEEEEEE&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="交易分账查询接口" tabindex="-1"><a class="header-anchor" href="#交易分账查询接口"><span>交易分账查询接口</span></a></h2><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Alipay</span><span class="token punctuation">(</span><span class="token variable">$alipayConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token variable">$settle</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;settle_no&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span> <span class="token comment">//支付宝分账请求单号，传入该字段，无需再传外部请求号和支付宝交易号</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;order_sn&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//调用分账接口时指定的外部请求号。分账查询时需要和支付宝交易号一起传入</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;trade_no&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//支付宝交易号，传入该字段，需要和外部请求号一起传入</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$pay</span><span class="token operator">-&gt;</span><span class="token function">settleQuery</span><span class="token punctuation">(</span><span class="token variable">$settle</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置参数-1" tabindex="-1"><a class="header-anchor" href="#配置参数-1"><span>配置参数</span></a></h3><p>除客观必传参数外，如需传入其他客观参数，传直接传入<code>$settle</code>中，或根据自己需求修改扩展</p><p>所有配置参数和官方无异，参数请查看「<a href="https://opendocs.alipay.com/open/9ef980b7_alipay.trade.order.settle.query?scene=common&amp;pathHash=688b1c13#%E4%B8%9A%E5%8A%A1%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务请求参数</a>」与 「<a href="https://opendocs.alipay.com/open/9ef980b7_alipay.trade.order.settle.query?scene=common&amp;pathHash=688b1c13#%E4%B8%9A%E5%8A%A1%E5%93%8D%E5%BA%94%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务响应参数</a>」一栏。</p><h3 id="返回示例-1" tabindex="-1"><a class="header-anchor" href="#返回示例-1"><span>返回示例</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;alipay_trade_order_settle_query_response&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;10000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;msg&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;Success&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;out_request_no&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;20210727001&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;operation_dt&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;2021-07-30 12:00:00&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;royalty_detail_list&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;operation_type&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;transfer&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;execute_dt&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;2021-07-30 12:00:00&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;trans_out&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;2088111111111111&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;trans_out_type&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;userId&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;trans_in&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;2088111111112222&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;trans_in_type&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;userId&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;amount&quot;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;state&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;FAIL&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;detail_id&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;2023030610032004370215900000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;error_code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;TXN_RESULT_ACCOUNT_BALANCE_NOT_ENOUGH&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;error_desc&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;分账余额不足&quot;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;sign&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;ERITJKEIJKJHKKKKKKKHJEREEEEEEEEEEE&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="分账比例-剩余金额-查询" tabindex="-1"><a class="header-anchor" href="#分账比例-剩余金额-查询"><span>分账比例(剩余金额)查询</span></a></h2><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Alipay</span><span class="token punctuation">(</span><span class="token variable">$alipayConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 分账比例查询</span></span>
<span class="line"><span class="token variable">$orderSn</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//外部请求号，由商家自定义。32个字符以内，仅可包含字母、数字、下划线。需保证在商户端不重复。</span></span>
<span class="line"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$pay</span><span class="token operator">-&gt;</span><span class="token function">onsettleQuery</span><span class="token punctuation">(</span><span class="token variable">$orderSn</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分账比例查询</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 分账剩余金额查询(默认查询)</span></span>
<span class="line"><span class="token variable">$tradeNo</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//支付宝交易号</span></span>
<span class="line"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$pay</span><span class="token operator">-&gt;</span><span class="token function">onsettleQuery</span><span class="token punctuation">(</span><span class="token variable">$orderSn</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分账剩余金额查询</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置参数-2" tabindex="-1"><a class="header-anchor" href="#配置参数-2"><span>配置参数</span></a></h3><p>除客观必传参数外，如需传入其他客观参数，传直接传入<code>$settle</code>中，或根据自己需求修改扩展</p><p>所有配置参数和官方无异，<br> 分账比例查询参数请查看「<a href="https://opendocs.alipay.com/open/6f314ee9_alipay.trade.royalty.rate.query?scene=common&amp;pathHash=9118088a#%E4%B8%9A%E5%8A%A1%E5%93%8D%E5%BA%94%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务响应参数</a>」 分账剩余金额查询参数请查看「<a href="https://opendocs.alipay.com/open/d87dc009_alipay.trade.order.onsettle.query?scene=common&amp;pathHash=53466049#%E4%B8%9A%E5%8A%A1%E5%93%8D%E5%BA%94%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务响应参数</a>」</p><h3 id="返回示例-2" tabindex="-1"><a class="header-anchor" href="#返回示例-2"><span>返回示例</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;alipay_trade_royalty_rate_query_response&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;10000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;msg&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;Success&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;user_id&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;2088XXXX1234&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;max_ratio&quot;</span><span class="token punctuation">:</span> <span class="token number">80</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;sign&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;ERITJKEIJKJHKKKKKKKHJEREEEEEEEEEEE&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;alipay_trade_order_onsettle_query_response&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;10000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;msg&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;Success&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;unsettled_amount&quot;</span><span class="token punctuation">:</span> <span class="token number">10</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;sign&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;ERITJKEIJKJHKKKKKKKHJEREEEEEEEEEEE&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="分账关系绑定与解绑" tabindex="-1"><a class="header-anchor" href="#分账关系绑定与解绑"><span>分账关系绑定与解绑</span></a></h2><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Alipay</span><span class="token punctuation">(</span><span class="token variable">$alipayConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;order_sn&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//外部请求号，由商家自定义</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;list&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token comment">// 分账接收方列表，单次传入最多20个</span></span>
<span class="line">        <span class="token punctuation">[</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;name&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 分账接收方真实姓名</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;account&#39;</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 分账的金额，单位为元</span></span>
<span class="line">            <span class="token string single-quoted-string">&#39;type&#39;</span>      <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;userId&#39;</span><span class="token punctuation">,</span> <span class="token comment">//分账接收方方类型。</span></span>
<span class="line">            <span class="token comment">// 支付宝账号对应的支付宝唯一用户号: userId</span></span>
<span class="line">            <span class="token comment">// 支付宝登录号: loginName</span></span>
<span class="line">            <span class="token comment">// 支付宝openId: openId</span></span>
<span class="line">        <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$pay</span><span class="token operator">-&gt;</span><span class="token function">relationBind</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 绑定</span></span>
<span class="line"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$pay</span><span class="token operator">-&gt;</span><span class="token function">relationBind</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 解绑</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置参数-3" tabindex="-1"><a class="header-anchor" href="#配置参数-3"><span>配置参数</span></a></h3><p>所有配置参数和官方无异，参数请查看「<a href="https://opendocs.alipay.com/open/c21931d6_alipay.trade.royalty.relation.bind?scene=common&amp;pathHash=08a24dae#%E4%B8%9A%E5%8A%A1%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务请求参数</a>」与 「<a href="https://opendocs.alipay.com/open/c21931d6_alipay.trade.royalty.relation.bind?scene=common&amp;pathHash=08a24dae#%E4%B8%9A%E5%8A%A1%E5%93%8D%E5%BA%94%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务响应参数</a>」一栏。</p><h3 id="返回示例-3" tabindex="-1"><a class="header-anchor" href="#返回示例-3"><span>返回示例</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;alipay_trade_royalty_relation_bind_response&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;10000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;msg&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;Success&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;result_code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;SUCCESS&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;sign&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;ERITJKEIJKJHKKKKKKKHJEREEEEEEEEEEE&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查询分账关系" tabindex="-1"><a class="header-anchor" href="#查询分账关系"><span>查询分账关系</span></a></h2><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token variable">$pay</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\\</span>fengkui<span class="token punctuation">\\</span>Pay<span class="token punctuation">\\</span>Alipay</span><span class="token punctuation">(</span><span class="token variable">$alipayConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token variable">$orderSn</span> <span class="token operator">=</span> <span class="token string single-quoted-string">&#39;&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 外部请求号，由商家自定义</span></span>
<span class="line"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$pay</span><span class="token operator">-&gt;</span><span class="token function">relationQuery</span><span class="token punctuation">(</span><span class="token variable">$orderSn</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置参数-4" tabindex="-1"><a class="header-anchor" href="#配置参数-4"><span>配置参数</span></a></h3><p>所有配置参数和官方无异，参数请查看「<a href="https://opendocs.alipay.com/open/1860be54_alipay.trade.royalty.relation.batchquery?scene=common&amp;pathHash=2f733e2d#%E4%B8%9A%E5%8A%A1%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务请求参数</a>」与 「<a href="https://opendocs.alipay.com/open/1860be54_alipay.trade.royalty.relation.batchquery?scene=common&amp;pathHash=2f733e2d#%E4%B8%9A%E5%8A%A1%E5%93%8D%E5%BA%94%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">业务响应参数</a>」一栏。</p><h3 id="返回示例-4" tabindex="-1"><a class="header-anchor" href="#返回示例-4"><span>返回示例</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;alipay_trade_royalty_relation_batchquery_response&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;10000&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;msg&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;Success&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;result_code&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;receiver_list&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;userId&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;account&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;2088xxxxx00&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;memo&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;分账给测试商户&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;login_name&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;test@alitest.xyz&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string double-quoted-string">&quot;bind_login_name&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;test@alitest.xyz&quot;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;total_page_num&quot;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;total_record_num&quot;</span><span class="token punctuation">:</span> <span class="token number">480</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;current_page_num&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string double-quoted-string">&quot;current_page_size&quot;</span><span class="token punctuation">:</span> <span class="token number">20</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string double-quoted-string">&quot;sign&quot;</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">&quot;ERITJKEIJKJHKKKKKKKHJEREEEEEEEEEEE&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,34)]))}const c=s(p,[["render",l],["__file","settle.html.vue"]]),u=JSON.parse('{"path":"/alipay/settle.html","title":"分账","lang":"zh-CN","frontmatter":{"title":"分账"},"headers":[{"level":2,"title":"统一收单交易结算接口","slug":"统一收单交易结算接口","link":"#统一收单交易结算接口","children":[{"level":3,"title":"配置参数","slug":"配置参数","link":"#配置参数","children":[]},{"level":3,"title":"返回示例","slug":"返回示例","link":"#返回示例","children":[]}]},{"level":2,"title":"交易分账查询接口","slug":"交易分账查询接口","link":"#交易分账查询接口","children":[{"level":3,"title":"配置参数","slug":"配置参数-1","link":"#配置参数-1","children":[]},{"level":3,"title":"返回示例","slug":"返回示例-1","link":"#返回示例-1","children":[]}]},{"level":2,"title":"分账比例(剩余金额)查询","slug":"分账比例-剩余金额-查询","link":"#分账比例-剩余金额-查询","children":[{"level":3,"title":"配置参数","slug":"配置参数-2","link":"#配置参数-2","children":[]},{"level":3,"title":"返回示例","slug":"返回示例-2","link":"#返回示例-2","children":[]}]},{"level":2,"title":"分账关系绑定与解绑","slug":"分账关系绑定与解绑","link":"#分账关系绑定与解绑","children":[{"level":3,"title":"配置参数","slug":"配置参数-3","link":"#配置参数-3","children":[]},{"level":3,"title":"返回示例","slug":"返回示例-3","link":"#返回示例-3","children":[]}]},{"level":2,"title":"查询分账关系","slug":"查询分账关系","link":"#查询分账关系","children":[{"level":3,"title":"配置参数","slug":"配置参数-4","link":"#配置参数-4","children":[]},{"level":3,"title":"返回示例","slug":"返回示例-4","link":"#返回示例-4","children":[]}]}],"git":{"updatedTime":1712041033000,"contributors":[{"name":"kuifeng","email":"1161634940@qq.com","commits":1}]},"filePathRelative":"alipay/settle.md"}');export{c as comp,u as data};
